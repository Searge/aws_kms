
Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # module.kms_keys.aws_kms_alias.key_alias[0m will be created
[0m  [32m+[0m[0m resource "aws_kms_alias" "key_alias" {
      [32m+[0m[0m arn            = (known after apply)
      [32m+[0m[0m id             = (known after apply)
      [32m+[0m[0m name           = "alias/prod-sign-security-cmk"
      [32m+[0m[0m name_prefix    = (known after apply)
      [32m+[0m[0m target_key_arn = (known after apply)
      [32m+[0m[0m target_key_id  = (known after apply)
    }

[1m  # module.kms_keys.aws_kms_key.kms_key[0m will be created
[0m  [32m+[0m[0m resource "aws_kms_key" "kms_key" {
      [32m+[0m[0m arn                                = (known after apply)
      [32m+[0m[0m bypass_policy_lockout_safety_check = false
      [32m+[0m[0m custom_key_store_id                = "prod-sign-security-cmk"
      [32m+[0m[0m customer_master_key_spec           = "SYMMETRIC_DEFAULT"
      [32m+[0m[0m deletion_window_in_days            = 7
      [32m+[0m[0m description                        = "KMS key for prod environment: sign securitycmk"
      [32m+[0m[0m enable_key_rotation                = true
      [32m+[0m[0m id                                 = (known after apply)
      [32m+[0m[0m is_enabled                         = true
      [32m+[0m[0m key_id                             = (known after apply)
      [32m+[0m[0m key_usage                          = "ENCRYPT_DECRYPT"
      [32m+[0m[0m multi_region                       = (known after apply)
      [32m+[0m[0m policy                             = jsonencode(
            {
              [32m+[0m[0m Id        = "key-policy-ssm-cloudwatch"
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = [
                          [32m+[0m[0m "kms:ReEncrypt*",
                          [32m+[0m[0m "kms:GenerateDataKey*",
                          [32m+[0m[0m "kms:Encrypt*",
                          [32m+[0m[0m "kms:Describe*",
                          [32m+[0m[0m "kms:Decrypt*",
                        ]
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = [
                              [32m+[0m[0m "ssm.amazonaws.com",
                              [32m+[0m[0m "logs.amazonaws.com",
                            ]
                        }
                      [32m+[0m[0m Resource  = "*"
                      [32m+[0m[0m Sid       = "AllowSSMandCloudWatchLogsAccess"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m rotation_period_in_days            = (known after apply)
      [32m+[0m[0m tags                               = {
          [32m+[0m[0m "BU"             = "Security"
          [32m+[0m[0m "BusinessOwner"  = "Security Team"
          [32m+[0m[0m "Environment"    = "Production"
          [32m+[0m[0m "Owner"          = "Security Operations"
          [32m+[0m[0m "Project"        = "secure-kms"
          [32m+[0m[0m "ProjectManager" = "Security Manager"
          [32m+[0m[0m "TechnicalOwner" = "Cloud Security Team"
        }
      [32m+[0m[0m tags_all                           = {
          [32m+[0m[0m "BU"             = "Security"
          [32m+[0m[0m "BusinessOwner"  = "Security Team"
          [32m+[0m[0m "Environment"    = "Production"
          [32m+[0m[0m "Owner"          = "Security Operations"
          [32m+[0m[0m "Project"        = "secure-kms"
          [32m+[0m[0m "ProjectManager" = "Security Manager"
          [32m+[0m[0m "TechnicalOwner" = "Cloud Security Team"
        }
    }

[1mPlan:[0m 2 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [33m~[0m[0m alias_arn   = "arn:aws:kms:us-east-2:069137988389:alias/dev-api-ml-tokenization" -> (known after apply)
  [33m~[0m[0m alias_name  = "alias/dev-api-ml-tokenization" [33m->[0m[0m "alias/prod-sign-security-cmk"
  [33m~[0m[0m environment = "dev" [33m->[0m[0m "prod"
  [33m~[0m[0m key_arn     = "arn:aws:kms:us-east-2:069137988389:key/7f7e0b4f-11de-4d28-af74-198282105066" -> (known after apply)
  [33m~[0m[0m key_id      = "7f7e0b4f-11de-4d28-af74-198282105066" [33m->[0m[0m {
      [32m+[0m[0m arn                                = (known after apply)
      [32m+[0m[0m bypass_policy_lockout_safety_check = false
      [32m+[0m[0m custom_key_store_id                = "prod-sign-security-cmk"
      [32m+[0m[0m customer_master_key_spec           = "SYMMETRIC_DEFAULT"
      [32m+[0m[0m deletion_window_in_days            = 7
      [32m+[0m[0m description                        = "KMS key for prod environment: sign securitycmk"
      [32m+[0m[0m enable_key_rotation                = true
      [32m+[0m[0m id                                 = (known after apply)
      [32m+[0m[0m is_enabled                         = true
      [32m+[0m[0m key_id                             = (known after apply)
      [32m+[0m[0m key_usage                          = "ENCRYPT_DECRYPT"
      [32m+[0m[0m multi_region                       = (known after apply)
      [32m+[0m[0m policy                             = jsonencode(
            {
              [32m+[0m[0m Id        = "key-policy-ssm-cloudwatch"
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = [
                          [32m+[0m[0m "kms:ReEncrypt*",
                          [32m+[0m[0m "kms:GenerateDataKey*",
                          [32m+[0m[0m "kms:Encrypt*",
                          [32m+[0m[0m "kms:Describe*",
                          [32m+[0m[0m "kms:Decrypt*",
                        ]
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = [
                              [32m+[0m[0m "ssm.amazonaws.com",
                              [32m+[0m[0m "logs.amazonaws.com",
                            ]
                        }
                      [32m+[0m[0m Resource  = "*"
                      [32m+[0m[0m Sid       = "AllowSSMandCloudWatchLogsAccess"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m rotation_period_in_days            = (known after apply)
      [32m+[0m[0m tags                               = {
          [32m+[0m[0m BU             = "Security"
          [32m+[0m[0m BusinessOwner  = "Security Team"
          [32m+[0m[0m Environment    = "Production"
          [32m+[0m[0m Owner          = "Security Operations"
          [32m+[0m[0m Project        = "secure-kms"
          [32m+[0m[0m ProjectManager = "Security Manager"
          [32m+[0m[0m TechnicalOwner = "Cloud Security Team"
        }
      [32m+[0m[0m tags_all                           = {
          [32m+[0m[0m BU             = "Security"
          [32m+[0m[0m BusinessOwner  = "Security Team"
          [32m+[0m[0m Environment    = "Production"
          [32m+[0m[0m Owner          = "Security Operations"
          [32m+[0m[0m Project        = "secure-kms"
          [32m+[0m[0m ProjectManager = "Security Manager"
          [32m+[0m[0m TechnicalOwner = "Cloud Security Team"
        }
      [32m+[0m[0m timeouts                           = [90mnull[0m[0m
      [32m+[0m[0m xks_key_id                         = [90mnull[0m[0m
    }
